window.MobileNavMenu={},function(window,$,that){that.init=function(){that.cache(),that.meetsRequirements&&that.bindEvents()},that.cache=function(){that.$c={window:$(window),mobileNavMenuContainer:$(".mobile-nav-menu"),menuItemCount:$(".mobile-nav-menu .mobile-nav > li").length}},that.bindEvents=function(){that.$c.menuItemCount<=5&&exit,that.replaceLastMenuItem(),$("body").on("click",".mobile-menu-more-link",that.displayMoreItems),$("body").on("click",".mobile-nav-menu .menu-item-has-children a",that.setSecondClick),$("body").on("click",".close-mobile-menu",that.hideMoreItems)},that.meetsRequirements=function(){return that.$c.mobileNavMenuContainer.length},that.replaceLastMenuItem=function(){$(".mobile-nav-menu .mobile-nav > li:nth-child(4)").after('<li class="mobile-menu-more-link"><a href="#">More</a></li>')},that.displayMoreItems=function(event){return event.preventDefault(),$("body").hasClass("mobile-menu-more")&&!$("body").hasClass("sub-menu-more")?void that.removeMenuClasses():(that.removeMenuClasses(),that.$c.mobileNavMenuContainer.toggleClass("more"),void $("body").toggleClass("mobile-menu-more"))},that.setSecondClick=function(event){console.log("child click",this),$(this).parent("li").hasClass("visible")||event.preventDefault(),that.removeMenuClasses(),$(this).parent("li").toggleClass("visible"),that.$c.mobileNavMenuContainer.toggleClass("more"),$("body").toggleClass("mobile-menu-more sub-menu-more")},that.hideMoreItems=function(){that.removeMenuClasses()},that.removeMenuClasses=function(){$("body").removeClass("mobile-menu-more sub-menu-more"),that.$c.mobileNavMenuContainer.removeClass("more"),$(".menu-item-has-children").removeClass("visible")},$(that.init)}(window,jQuery,window.MobileNavMenu);
//# sourceMappingURL=mobile-nav-menu.min.js.map